{"version":3,"sources":["components/loginForm.js","components/signupForm.js","components/menu.js","pages/userEdit.js","pages/serviceList.js","components/tables/dataRow.js","components/tables/editRow.js","components/tables/formFieldTypes.js","components/tables/dataView.js","pages/levels.js","pages/patrons.js","pages/todos.js","pages/service.js","pages/userPanel.js","app.js","index.js"],"names":["LoginForm","props","state","email","password","handleChange","bind","event","preventDefault","loginData","this","onLogin","setState","target","id","value","failedLogin","style","color","handleFailedLogin","onSubmit","e","handleSubmit","htmlFor","name","type","onChange","onClick","onStateChange","React","Component","SignupForm","signupData","onSignup","Menu","listStyle","setServiceId","serviceId","setSubService","onLogout","UserEdit","ServiceList","useState","serviceList","updateServiceList","useEffect","a","window","fetch","serverAddress","mode","headers","Authorization","token","serviceData","ok","json","serviceDataParsed","map","service","key","console","log","fetchServiceList","DataRow","row","keys","colName","push","border","padding","onDoubleClick","onRowClick","data","statuses","typesFallback","Map","entry","setValue","size","defaultChecked","min","defaultValue","options","optionList","element","EditRow","types","formFields","Object","entries","dataPoint","Ele","get","onHandleEdit","DataView","sortMap","set","dataMap","forEach","dataObj","editFocus","handleSort","handleDataRow","handleEdit","table","values","sort","b","parentNode","elements","Array","from","titleRow","rows","Levels","levelList","setLevelList","levelData","levelDataParsed","getLevelList","Patrons","patronList","setPatronList","patronData","patronDataParsed","getPatronList","Todos","todoList","setTodoList","todoData","todoDataParsed","getTodoList","Service","subServiceComponent","setComponent","useLayoutEffect","subService","UserPanel","ServiceId","App","userStates","userState","handleUserState","handleLogin","handleSignup","method","body","JSON","stringify","then","res","status","catch","handlePage","ReactDOM","render","StrictMode","process","SERV_URI","document","getElementById"],"mappings":"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","file":"static/js/main.73b1c3ed.chunk.js","sourcesContent":["// email, pass\r\n// return: { user, token }\r\n\r\nimport React from 'react';\r\n\r\nclass LoginForm extends React.Component {\r\n  constructor (props) {\r\n    super(props);\r\n    this.state = {\r\n      email: '',\r\n      password: ''\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  handleSubmit (event) {\r\n    event.preventDefault();\r\n    const loginData = { ...this.state };\r\n    this.props.onLogin(loginData);\r\n  }\r\n\r\n  handleChange (event) {\r\n    this.setState({ [event.target.id]: event.target.value });\r\n  }\r\n\r\n  handleFailedLogin (failedLogin) {\r\n    if (failedLogin) {\r\n      return <div style={{ color: 'red' }}>Invalid email or password!</div>;\r\n    }\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div>\r\n        {this.handleFailedLogin(this.props.failedLogin)}\r\n        <form onSubmit={(e) => this.handleSubmit(e)}>\r\n          <div>\r\n            <label htmlFor='mail'>\r\n              email:\r\n              <input\r\n                name='email'\r\n                id='email'\r\n                type='email'\r\n                value={this.state.email}\r\n                onChange={this.handleChange}\r\n              />\r\n            </label>\r\n          </div>\r\n          <div>\r\n            <label htmlFor='pass'>\r\n              password:\r\n              <input\r\n                name='password'\r\n                id='password'\r\n                type='password'\r\n                value={this.state.password}\r\n                onChange={this.handleChange}\r\n              />\r\n            </label>\r\n          </div>\r\n          <input type='submit' value='Log in' />\r\n        </form>\r\n        <button onClick={() => this.props.onStateChange(2)}>Sign up</button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport { LoginForm };\r\n","// name email pass\r\n// return user: { email, name }\r\n\r\nimport React from 'react';\r\n\r\nclass SignupForm extends React.Component {\r\n  constructor (props) {\r\n    super(props);\r\n    this.state = {\r\n      name: '',\r\n      email: '',\r\n      password: ''\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  handleChange (event) {\r\n    this.setState({ [event.target.id]: event.target.value });\r\n  }\r\n\r\n  handleSubmit (event) {\r\n    event.preventDefault();\r\n    const signupData = { ...this.state };\r\n    this.props.onSignup(signupData);\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div>\r\n        <div>Sign up</div>\r\n        <form onSubmit={(e) => this.handleSubmit(e)}>\r\n          <label htmlFor='name'>\r\n            User name:\r\n            <input\r\n              name='name'\r\n              id='name'\r\n              type='text'\r\n              value={this.state.name}\r\n              onChange={this.handleChange}\r\n            />\r\n          </label>\r\n          <label htmlFor='email'>\r\n            e-mail:\r\n            <input\r\n              name='email'\r\n              id='email'\r\n              type='email'\r\n              value={this.state.email}\r\n              onChange={this.handleChange}\r\n            />\r\n          </label>\r\n          <label htmlFor='password'>\r\n            password:\r\n            <input\r\n              name='password'\r\n              id='password'\r\n              type='password'\r\n              value={this.state.password}\r\n              onChange={this.handleChange}\r\n            />\r\n          </label>\r\n          <input type='submit' value='Sign Up' />\r\n        </form>\r\n        <button onClick={() => this.props.onStateChange(0)}>Login</button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport { SignupForm };\r\n","import React from 'react';\r\n\r\nfunction Menu (props) {\r\n  return (\r\n    <nav>\r\n      <ul style={{ listStyle: 'none' }}>\r\n        <li onClick={() => props.setServiceId(0)}>\r\n          Services list\r\n        </li>\r\n        <li onClick={() => props.setServiceId(-1)}>\r\n          Edit user\r\n        </li>\r\n        {\r\n          (props.serviceId > 0)\r\n            ? (\r\n              <>\r\n                <li onClick={() => props.setSubService(0)}>\r\n                  Service info\r\n                </li>\r\n                <li onClick={() => props.setSubService(1)}>\r\n                  Levels\r\n                </li>\r\n                <li onClick={() => props.setSubService(2)}>\r\n                  Patrons\r\n                </li>\r\n                <li onClick={() => props.setSubService(3)}>\r\n                  To Do\r\n                </li>\r\n              </>\r\n            )\r\n            : <br />\r\n        }\r\n        <li onClick={() => props.onLogout(0)}>\r\n          Logout\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport { Menu };\r\n","import React from 'react';\r\n\r\nfunction UserEdit (props) {\r\n  return (\r\n    <div>\r\n      User Edit\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { UserEdit };\r\n","import React from 'react';\r\n\r\nfunction ServiceList (props) {\r\n  const [serviceList, updateServiceList] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    async function fetchServiceList (props) {\r\n      let serviceList = [];\r\n      const serviceData = await window.fetch(`${props.serverAddress}/services`, {\r\n        mode: 'cors',\r\n        headers: {\r\n          Authorization: `Bearer ${props.token}`\r\n        }\r\n      });\r\n\r\n      if (serviceData.ok) {\r\n        const serviceDataParsed = await serviceData.json();\r\n        serviceList = serviceDataParsed.map(service => {\r\n          return (\r\n            <li\r\n              key={service.id}\r\n              onClick={() => props.setServiceId(service.id)}\r\n            >\r\n              {service.name}\r\n            </li>\r\n          );\r\n        });\r\n      }\r\n      updateServiceList(serviceList);\r\n    }\r\n    console.log('serviceList render');\r\n    fetchServiceList(props);\r\n  }, [props]);\r\n\r\n  return (\r\n    <div>\r\n      <p>Service List</p>\r\n      <ul style={{ listStyle: 'none' }}>\r\n        {serviceList}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { ServiceList };\r\n","import React from 'react';\n\nfunction DataRow (props) {\n  const row = [];\n  for (const colName of props.keys) {\n    row.push(\n      <span\n        style={{ border: '1px solid black', padding: '1px' }}\n        key={colName}\n        onDoubleClick={(e) => props.onRowClick(e, props.data)}\n      >\n        {`${props.data[colName]}`}\n      </span>\n    );\n  }\n\n  return (\n    <li style={{ padding: '2px 0' }}>\n      {row}\n    </li>\n  );\n}\n\nexport { DataRow };\n","import React from 'react';\nimport { DropDownField, BoolField, TextField, NumberField }\n  from './formFieldTypes';\n\nconst statuses = ['done', 'for shipment', 'in progress', 'new'];\nconst typesFallback = new Map([\n  ['user', TextField],\n  ['active', BoolField],\n  ['value', NumberField],\n  ['status', DropDownField]\n]);\n\nfunction EditRow (props) {\n  const types = (props.types || typesFallback);\n  const formFields = Object.entries(props.dataPoint).map(entry => {\n    const Ele = types.get(entry[0]);\n    if (Ele) {\n      return (\n        <Ele\n          key={entry[0]}\n          entry={entry}\n          optionList={statuses}\n        />\n      );\n    } else {\n      return (\n        <span\n          key={entry[0]}\n          style={{ border: '1px solid black', padding: '1px' }}\n        >\n          {entry[1]}\n        </span>\n      );\n    }\n  });\n\n  return (\n    <li style={{ padding: '0' }}>\n      <form onSubmit={(e) => props.onHandleEdit(e)}>\n        {formFields}\n        <input type='submit' value='Save' />\n      </form>\n    </li>\n  );\n}\n\nexport { EditRow };\n","import React, { useState } from 'react';\n\nfunction DropDownField (props) {\n  const options = props.optionList.map(element => {\n    return (\n      <option\n        key={element}\n        value={element}\n      >\n        {element}\n      </option>\n    );\n  });\n\n  return (\n    <span style={{ border: '1px solid black', padding: '1px' }}>\n      <select\n        id={props.entry[0]}\n        name={props.entry[0]}\n        defaultValue={props.entry[1]}\n      >\n        {options}\n      </select>\n    </span>\n  );\n}\n\nfunction BoolField (props) {\n  return (\n    <span style={{ border: '1px solid black', padding: '1px' }}>\n      <input\n        type='checkbox'\n        id={props.entry[0]}\n        name={props.entry[0]}\n        defaultChecked={(props.entry[1] === 'true')}\n      />\n    </span>\n  );\n}\n\nfunction TextField (props) {\n  const [value, setValue] = useState(props.entry[1]);\n\n  return (\n    <span style={{ border: '1px solid black', padding: '1px' }}>\n      <input\n        id={props.entry[0]}\n        name={props.entry[0]}\n        size={16}\n        value={value}\n        onChange={(e) => setValue(e.target.value)}\n      />\n    </span>\n  );\n}\n\nfunction NumberField (props) {\n  return (\n    <span style={{ border: '1px solid black', padding: '1px' }}>\n      <input\n        id={props.entry[0]}\n        name={props.entry[0]}\n        type='number'\n        min={0}\n        defaultValue={props.entry[1]}\n      />\n    </span>\n  );\n}\n\nexport {\n  DropDownField,\n  BoolField,\n  TextField,\n  NumberField\n};\n","import React from 'react';\nimport { DataRow } from './dataRow';\nimport { EditRow } from './editRow';\n\nclass DataView extends React.Component {\n  constructor (props) {\n    super(props);\n    const sortMap = new Map();\n    for (const key of Object.keys(this.props.data[0])) {\n      sortMap.set(key, true);\n    }\n    const dataMap = new Map();\n    this.props.data.forEach(dataObj => dataMap.set(dataObj.id, dataObj));\n    this.types = (this.props.types || null);\n    this.state = {\n      editFocus: -1,\n      sortMap: sortMap,\n      dataMap: dataMap\n    };\n    this.handleSort = this.handleSort.bind(this);\n    this.handleDataRow = this.handleDataRow.bind(this);\n    this.handleEdit = this.handleEdit.bind(this);\n  }\n\n  handleSort (key) {\n    const sortMap = new Map(this.state.sortMap);\n    const table = [...this.state.dataMap.values()].sort((a, b) => {\n      if (a[key] === b[key]) return 0;\n      return (sortMap.get(key))\n        ? (a[key] > b[key]) ? 1 : -1\n        : (a[key] < b[key]) ? 1 : -1;\n    });\n    const dataMap = new Map();\n    table.forEach(dataObj => dataMap.set(dataObj.id, dataObj));\n    sortMap.set(key, !sortMap.get(key));\n    this.setState({\n      dataMap: dataMap,\n      sortMap: sortMap\n    });\n  }\n\n  handleDataRow (event, dataObj) {\n    console.log(event.target);\n    console.log(event.target.parentNode);\n    console.log(dataObj);\n    this.setState({ editFocus: dataObj.id });\n  }\n\n  handleEdit (event) {\n    event.preventDefault();\n    console.log(event.target.elements[2].value);\n    this.setState({ editFocus: -1 });\n  }\n\n  render () {\n    const { dataMap, sortMap, editFocus } = this.state;\n    const keys = Array.from(sortMap.keys());\n    const titleRow = keys.map(key => (\n      <button\n        key={key}\n        onClick={() => this.handleSort(key)}\n      >\n        {key}\n      </button>\n    ));\n\n    const rows = [];\n    for (const entry of dataMap) {\n      (entry[0] === editFocus)\n        ? rows.push(\n          <EditRow\n            key={entry[0]}\n            dataPoint={dataMap.get(editFocus)}\n            onHandleEdit={this.handleEdit}\n            types={this.types}\n          />\n        )\n        : rows.push(\n          <DataRow\n            key={entry[0]}\n            data={entry[1]}\n            keys={keys}\n            onRowClick={this.handleDataRow}\n          />\n        );\n    }\n\n    return (\n      <>\n        <ul style={{ listStyle: 'none' }}>\n          <li>{titleRow}</li>\n          {rows}\n        </ul>\n      </>\n    );\n  }\n}\n\nexport { DataView };\n","import React from 'react';\r\n\r\nimport { DataView } from '../components/tables/dataView';\r\n\r\n/** @props: serviceId, token, serverAddress */\r\n\r\nfunction Levels (props) {\r\n  const [levelList, setLevelList] = React.useState(null);\r\n\r\n  React.useEffect(() => {\r\n    async function getLevelList () {\r\n      const levelData = await window.fetch(\r\n        `${props.serverAddress}/services/${props.serviceId}/levels`, {\r\n          mode: 'cors',\r\n          headers: {\r\n            Authorization: `Bearer ${props.token}`\r\n          }\r\n        }\r\n      );\r\n      if (levelData.ok) {\r\n        const levelDataParsed = await levelData.json();\r\n        setLevelList(levelDataParsed);\r\n      }\r\n    }\r\n    getLevelList();\r\n  }, [props]);\r\n\r\n  return (\r\n    <div>\r\n      {\r\n        (levelList)\r\n          ? <DataView data={levelList} />\r\n          : (<div>Loading Level List...</div>)\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { Levels };\r\n","import React from 'react';\r\n\r\nimport { DataView } from '../components/tables/dataView';\r\n\r\nfunction Patrons (props) {\r\n  const [patronList, setPatronList] = React.useState(null);\r\n\r\n  React.useEffect(() => {\r\n    async function getPatronList () {\r\n      const patronData = await window.fetch(\r\n        `${props.serverAddress}/services/${props.serviceId}/patrons`, {\r\n          mode: 'cors',\r\n          headers: {\r\n            Authorization: `Bearer ${props.token}`\r\n          }\r\n        }\r\n      );\r\n      if (patronData.ok) {\r\n        const patronDataParsed = await patronData.json();\r\n        setPatronList(patronDataParsed);\r\n      }\r\n    }\r\n    getPatronList();\r\n  }, [props]);\r\n\r\n  return (\r\n    <div>\r\n      {\r\n        (patronList)\r\n          ? <DataView data={patronList} />\r\n          : (<div>Loading Patron List...</div>)\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { Patrons };\r\n","import React from 'react';\r\n\r\nimport { DataView } from '../components/tables/dataView';\r\n\r\nfunction Todos (props) {\r\n  const [todoList, setTodoList] = React.useState(null);\r\n\r\n  React.useEffect(() => {\r\n    async function getTodoList () {\r\n      const todoData = await window.fetch(\r\n        `${props.serverAddress}/services/${props.serviceId}/patrons`, {\r\n          mode: 'cors',\r\n          headers: {\r\n            Authorization: `Bearer ${props.token}`\r\n          }\r\n        }\r\n      );\r\n      if (todoData.ok) {\r\n        const todoDataParsed = await todoData.json();\r\n        setTodoList(todoDataParsed);\r\n      }\r\n    }\r\n    getTodoList();\r\n  }, [props]);\r\n\r\n  return (\r\n    <div>\r\n      {\r\n        (todoList)\r\n          ? <DataView data={todoList} />\r\n          : (<div>Loading Patron List...</div>)\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { Todos };\r\n","import React from 'react';\r\n\r\nimport { Levels } from './levels';\r\nimport { Patrons } from './patrons';\r\nimport { Todos } from './todos';\r\n\r\nfunction Service (props) {\r\n  const [subServiceComponent, setComponent] =\r\n    React.useState(<p>Service not loaded</p>);\r\n\r\n  React.useLayoutEffect(() => {\r\n    console.log('Service Layout Effect fired');\r\n    switch (props.subService) {\r\n      case (1):\r\n        setComponent(\r\n          <Levels\r\n            serviceId={props.serviceId}\r\n            token={props.token}\r\n            serverAddress={props.serverAddress}\r\n          />\r\n        );\r\n        break;\r\n      case (2):\r\n        setComponent(\r\n          <Patrons\r\n            serviceId={props.serviceId}\r\n            token={props.token}\r\n            serverAddress={props.serverAddress}\r\n          />\r\n        );\r\n        break;\r\n      case (3):\r\n        setComponent(\r\n          <Todos\r\n            serviceId={props.serviceId}\r\n            token={props.token}\r\n            serverAddress={props.serverAddress}\r\n          />\r\n        );\r\n        break;\r\n      default:\r\n        setComponent(\r\n          <div>Service Main</div>\r\n        );\r\n    }\r\n  }, [props]);\r\n\r\n  return (\r\n    <div>\r\n      service ID {props.serviceId}\r\n      {subServiceComponent}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { Service };\r\n","import React from 'react';\r\n\r\nimport { Menu } from '../components/menu';\r\nimport { UserEdit } from './userEdit';\r\nimport { ServiceList } from './serviceList';\r\nimport { Service } from './service';\r\n\r\n/**\r\n * @TODO: should have\r\n *  - user services list\r\n *  - some link to todo list\r\n *  - way to edit logged user data\r\n *\r\n *  props: token, onStateChange\r\n */\r\nfunction UserPanel (props) {\r\n  const [ServiceId, setServiceId] = React.useState(0);\r\n  const [subService, setSubService] = React.useState(0);\r\n\r\n  return (\r\n    <div>\r\n      <Menu\r\n        serviceId={ServiceId}\r\n        setServiceId={setServiceId}\r\n        setSubService={setSubService}\r\n        onLogout={props.onStateChange}\r\n      />\r\n      {\r\n        (ServiceId > 0)\r\n          ? (\r\n            <Service\r\n              serviceId={ServiceId}\r\n              subService={subService}\r\n              serverAddress={props.serverAddress}\r\n              token={props.token}\r\n            />\r\n          )\r\n          : (ServiceId === -1)\r\n            ? (\r\n              <UserEdit />\r\n            )\r\n            : (\r\n              <ServiceList\r\n                serverAddress={props.serverAddress}\r\n                token={props.token}\r\n                setServiceId={setServiceId}\r\n              />\r\n            )\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { UserPanel };\r\n","import React from 'react';\n\nimport './app.css';\n// import DataView from './components/DataView';\nimport { LoginForm } from './components/loginForm';\nimport { SignupForm } from './components/signupForm';\nimport { UserPanel } from './pages/userPanel';\n\nclass App extends React.Component {\n  constructor (props) {\n    super(props);\n    this.serverAddress = props.serverAddress;\n    this.userStates = ['logged out', 'logged in', 'signing up'];\n    this.state = {\n      userState: 0,\n      token: null,\n      failedLogin: false\n    };\n    this.handleUserState = this.handleUserState.bind(this);\n    this.handleLogin = this.handleLogin.bind(this);\n    this.handleSignup = this.handleSignup.bind(this);\n  }\n\n  handlePage (userState) {\n    switch (userState) {\n      case (1):\n        return (\n          <UserPanel\n            serverAddress={this.serverAddress}\n            onStateChange={this.handleUserState}\n            token={this.state.token}\n          />\n        );\n      case (2):\n        return (\n          <SignupForm\n            onStateChange={this.handleUserState}\n            onSignup={this.handleSignup}\n          />\n        );\n      default:\n        return (\n          <LoginForm\n            onStateChange={this.handleUserState}\n            onLogin={this.handleLogin}\n            failedLogin={this.state.failedLogin}\n          />\n        );\n    }\n  }\n\n  // @param userState: index from userStates\n  handleUserState (userState) {\n    if (userState !== this.state.userState) {\n      if (userState === 2) {\n        this.setState({ userState });\n      } else {\n        this.setState({\n          userState,\n          token: null\n        });\n      }\n    }\n  }\n\n  handleLogin (loginData) {\n    console.log(loginData);\n    window.fetch(`${this.serverAddress}/login`, {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(loginData)\n    })\n      .then(res => {\n        if (res.status < 400) {\n          return res.json();\n        } else {\n          this.setState({\n            userState: 0,\n            failedLogin: true\n          });\n          return 'login failed!';\n        }\n      })\n      .then(data => {\n        if (data.token) {\n          this.setState({\n            token: data.token,\n            userState: 1,\n            failedLogin: false\n          });\n        }\n      })\n      .catch(e => console.log(e));\n  }\n\n  handleSignup (signupData) {\n    console.log(signupData);\n    window.fetch(`${this.serverAddress}/signup`, {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(signupData)\n    })\n      .then(res => {\n        if (res.status < 400) {\n          return res.json();\n        } else {\n          return 'signup failed';\n        }\n      })\n      .then(data => {\n        console.log(data);\n        this.setState({ userState: 0 });\n        return 'signup successfull';\n      })\n      .catch(e => console.log(e));\n  }\n\n  render () {\n    return (\n      <div id='App'>\n        <div>\n          current state: {this.userStates[this.state.userState]}\n        </div>\n        {this.handlePage(this.state.userState)}\n      </div>\n    );\n  }\n}\n\nexport { App };\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './app';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App\n      serverAddress={\n        (process.env.SERV_URI || 'http://127.0.0.1:3000')\n      }\n    />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}