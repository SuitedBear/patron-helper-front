{"version":3,"sources":["components/loginForm.js","components/signupForm.js","components/menu.js","pages/userEdit.js","pages/serviceList.js","components/tables/dataRow.js","components/tables/formFieldTypes.js","components/tables/editRow.js","components/tables/dataView.js","pages/levels.js","pages/patrons.js","utils/flattener.js","pages/todos.js","pages/service.js","pages/userPanel.js","app.js","index.js"],"names":["LoginForm","props","state","email","password","handleChange","bind","event","preventDefault","loginData","this","onLogin","setState","target","id","value","failedLogin","style","color","handleFailedLogin","onSubmit","e","handleSubmit","htmlFor","name","type","onChange","onClick","onStateChange","React","Component","SignupForm","signupData","onSignup","Menu","className","listStyle","setServiceId","serviceId","setSubService","onLogout","UserEdit","ServiceList","useState","serviceList","updateServiceList","useEffect","a","window","fetch","serverAddress","mode","headers","Authorization","token","serviceData","ok","json","serviceDataParsed","map","service","key","console","log","fetchServiceList","DataRow","row","keys","colName","push","onDoubleClick","onRowClick","data","DropDownField","options","optionList","element","entry","defaultValue","TextField","size","statuses","typesFallback","Map","checked","min","EditRow","formData","dataPoint","types","changeHandler","newFormData","onHandleEdit","formFields","Object","entries","Ele","get","DataView","sortMap","set","dataMap","forEach","dataObj","editFocus","handleSort","handleDataRow","handleEdit","table","values","sort","b","parentNode","newDataMap","Array","from","titleRow","rows","Levels","levelList","setLevelList","levelData","levelDataParsed","getLevelList","Patrons","patronList","setPatronList","patronData","patronDataParsed","getPatronList","flattener","item","flattenedItem","pos","nestedItem","assign","Todos","todoList","setTodoList","setTodoData","todoMap","recievedData","todoDataParsed","newTodoList","getTodoList","Service","subServiceComponent","setComponent","useLayoutEffect","subService","margin","UserPanel","ServiceId","App","userStates","userState","handleUserState","handleLogin","handleSignup","method","body","JSON","stringify","then","res","status","catch","handlePage","ReactDOM","render","StrictMode","process","REACT_APP_SERVER_URI","document","getElementById"],"mappings":"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","file":"static/js/main.c45e883e.chunk.js","sourcesContent":["// email, pass\r\n// return: { user, token }\r\n\r\nimport React from 'react';\r\n\r\nclass LoginForm extends React.Component {\r\n  constructor (props) {\r\n    super(props);\r\n    this.state = {\r\n      email: '',\r\n      password: ''\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  handleSubmit (event) {\r\n    event.preventDefault();\r\n    const loginData = { ...this.state };\r\n    this.props.onLogin(loginData);\r\n  }\r\n\r\n  handleChange (event) {\r\n    this.setState({ [event.target.id]: event.target.value });\r\n  }\r\n\r\n  handleFailedLogin (failedLogin) {\r\n    if (failedLogin) {\r\n      return <div style={{ color: 'red' }}>Invalid email or password!</div>;\r\n    }\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div>\r\n        {this.handleFailedLogin(this.props.failedLogin)}\r\n        <form onSubmit={(e) => this.handleSubmit(e)}>\r\n          <div>\r\n            <label htmlFor='mail'>\r\n              email:\r\n              <input\r\n                name='email'\r\n                id='email'\r\n                type='email'\r\n                value={this.state.email}\r\n                onChange={this.handleChange}\r\n              />\r\n            </label>\r\n          </div>\r\n          <div>\r\n            <label htmlFor='pass'>\r\n              password:\r\n              <input\r\n                name='password'\r\n                id='password'\r\n                type='password'\r\n                value={this.state.password}\r\n                onChange={this.handleChange}\r\n              />\r\n            </label>\r\n          </div>\r\n          <input type='submit' value='Log in' />\r\n        </form>\r\n        <button onClick={() => this.props.onStateChange(2)}>Sign up</button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport { LoginForm };\r\n","// name email pass\r\n// return user: { email, name }\r\n\r\nimport React from 'react';\r\n\r\nclass SignupForm extends React.Component {\r\n  constructor (props) {\r\n    super(props);\r\n    this.state = {\r\n      name: '',\r\n      email: '',\r\n      password: ''\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  handleChange (event) {\r\n    this.setState({ [event.target.id]: event.target.value });\r\n  }\r\n\r\n  handleSubmit (event) {\r\n    event.preventDefault();\r\n    const signupData = { ...this.state };\r\n    this.props.onSignup(signupData);\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div>\r\n        <div>Sign up</div>\r\n        <form onSubmit={(e) => this.handleSubmit(e)}>\r\n          <label htmlFor='name'>\r\n            User name:\r\n            <input\r\n              name='name'\r\n              id='name'\r\n              type='text'\r\n              value={this.state.name}\r\n              onChange={this.handleChange}\r\n            />\r\n          </label>\r\n          <label htmlFor='email'>\r\n            e-mail:\r\n            <input\r\n              name='email'\r\n              id='email'\r\n              type='email'\r\n              value={this.state.email}\r\n              onChange={this.handleChange}\r\n            />\r\n          </label>\r\n          <label htmlFor='password'>\r\n            password:\r\n            <input\r\n              name='password'\r\n              id='password'\r\n              type='password'\r\n              value={this.state.password}\r\n              onChange={this.handleChange}\r\n            />\r\n          </label>\r\n          <input type='submit' value='Sign Up' />\r\n        </form>\r\n        <button onClick={() => this.props.onStateChange(0)}>Login</button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport { SignupForm };\r\n","import React from 'react';\r\n\r\nfunction Menu (props) {\r\n  return (\r\n    <nav className='menu'>\r\n      <ul style={{ listStyle: 'none' }}>\r\n        <li onClick={() => props.setServiceId(0)}>\r\n          Services list\r\n        </li>\r\n        <li onClick={() => props.setServiceId(-1)}>\r\n          Edit user\r\n        </li>\r\n        {\r\n          (props.serviceId > 0)\r\n            ? (\r\n              <>\r\n                <li onClick={() => props.setSubService(0)}>\r\n                  Service info\r\n                </li>\r\n                <li onClick={() => props.setSubService(1)}>\r\n                  Levels\r\n                </li>\r\n                <li onClick={() => props.setSubService(2)}>\r\n                  Patrons\r\n                </li>\r\n                <li onClick={() => props.setSubService(3)}>\r\n                  To Do\r\n                </li>\r\n              </>\r\n            )\r\n            : <br />\r\n        }\r\n        <li onClick={() => props.onLogout(0)}>\r\n          Logout\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport { Menu };\r\n","import React from 'react';\r\n\r\nfunction UserEdit (props) {\r\n  return (\r\n    <div>\r\n      User Edit\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { UserEdit };\r\n","import React from 'react';\r\n\r\nfunction ServiceList (props) {\r\n  const [serviceList, updateServiceList] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    async function fetchServiceList (props) {\r\n      let serviceList = [];\r\n      const serviceData = await window.fetch(`${props.serverAddress}/services`, {\r\n        mode: 'cors',\r\n        headers: {\r\n          Authorization: `Bearer ${props.token}`\r\n        }\r\n      });\r\n\r\n      if (serviceData.ok) {\r\n        const serviceDataParsed = await serviceData.json();\r\n        serviceList = serviceDataParsed.map(service => {\r\n          return (\r\n            <li\r\n              key={service.id}\r\n              onClick={() => props.setServiceId(service.id)}\r\n            >\r\n              {service.name}\r\n            </li>\r\n          );\r\n        });\r\n      }\r\n      updateServiceList(serviceList);\r\n    }\r\n    console.log('serviceList render');\r\n    fetchServiceList(props);\r\n  }, [props]);\r\n\r\n  return (\r\n    <div>\r\n      <p>Service List</p>\r\n      <ul style={{ listStyle: 'none' }}>\r\n        {serviceList}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { ServiceList };\r\n","import React from 'react';\n\nfunction DataRow (props) {\n  const row = [];\n  for (const colName of props.keys) {\n    row.push(\n      <div\n        className='data-cell'\n        key={colName}\n        onDoubleClick={(e) => props.onRowClick(e, props.data)}\n      >\n        {`${props.data[colName]}`}\n      </div>\n    );\n  }\n\n  return (\n    <div className='data-row'>\n      {row}\n    </div>\n  );\n}\n\nexport { DataRow };\n","import React from 'react';\n\nfunction DropDownField (props) {\n  const options = props.optionList.map(element => {\n    return (\n      <option\n        key={element}\n        value={element}\n      >\n        {element}\n      </option>\n    );\n  });\n\n  return (\n    // <span style={{ border: '1px solid black', padding: '1px' }}>\n    <span className='data-cell'>\n      <select\n        id={props.entry[0]}\n        name={props.entry[0]}\n        defaultValue={props.entry[1]}\n        onChange={e => props.handleChange(e)}\n      >\n        {options}\n      </select>\n    </span>\n  );\n}\n\nfunction BoolField (props) {\n  return (\n    <span className='data-cell'>\n      <input\n        type='checkbox'\n        id={props.entry[0]}\n        name={props.entry[0]}\n        // data needs parsing on state\n        checked={props.entry[1]}\n        onChange={(e) => props.handleChange(e)}\n      />\n    </span>\n  );\n}\n\nfunction TextField (props) {\n  return (\n    <span className='data-cell'>\n      <input\n        id={props.entry[0]}\n        name={props.entry[0]}\n        size={16}\n        value={props.entry[1] || ''}\n        onChange={(e) => props.handleChange(e)}\n      />\n    </span>\n  );\n}\n\nfunction NumberField (props) {\n  return (\n    <span className='data-cell'>\n      <input\n        id={props.entry[0]}\n        name={props.entry[0]}\n        type='number'\n        min={0}\n        value={props.entry[1]}\n        onChange={(e) => props.handleChange(e)}\n      />\n    </span>\n  );\n}\n\nexport {\n  DropDownField,\n  BoolField,\n  TextField,\n  NumberField\n};\n\n// {\n//   \"id\": 31,\n//   \"status\": null,\n//   \"levelId\": 1,\n//   \"rewardId\": 15,\n//   \"patronId\": 6,\n//   \"createdAt\": \"2020-05-10T12:08:20.456Z\",\n//   \"updatedAt\": \"2020-05-10T12:08:20.456Z\",\n//   \"patronInService\": {\n//       \"patronId\": 1,\n//       \"notes\": null,\n//       \"active\": true,\n//       \"supportAmount\": 100,\n//       \"patron\": {\n//           \"name\": \"mietek\",\n//           \"email\": \"mietek@maila.ma\"\n//       }\n//   },\n//   \"reward\": {\n//       \"name\": \"DoIthemAllAtOnceMonthly for mietek from 2020-5\"\n//   },\n//   \"level\": {\n//       \"serviceId\": 1\n//   }\n// }\n","import React from 'react';\nimport { DropDownField, BoolField, TextField, NumberField }\n  from './formFieldTypes';\n\nconst statuses = ['done', 'for shipment', 'in progress', 'new'];\nconst typesFallback = new Map([\n  ['user', TextField],\n  ['active', BoolField],\n  ['value', NumberField],\n  ['status', DropDownField]\n]);\n\nclass EditRow extends React.Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n      formData: { ...props.dataPoint }\n    };\n    this.types = (props.types || typesFallback);\n\n    this.changeHandler = this.changeHandler.bind(this);\n  }\n\n  changeHandler (e) {\n    console.log(`id:${e.target.id} val:${e.target.value}`);\n    const newFormData = this.state.formData;\n    newFormData[e.target.id] = e.target.value;\n    this.setState({ formData: newFormData });\n  }\n\n  handleSubmit (e) {\n    e.preventDefault();\n    this.props.onHandleEdit(this.state.formData);\n  }\n\n  render () {\n    const formFields = Object.entries(this.state.formData).map(entry => {\n      const Ele = this.types.get(entry[0]);\n      if (Ele) {\n        return (\n          <Ele\n            key={entry[0]}\n            entry={entry}\n            optionList={this.props.options || statuses}\n            handleChange={this.changeHandler}\n          />\n        );\n      } else {\n        return (\n          <div\n            className='data-cell'\n            key={entry[0]}\n          >\n            {entry[1]}\n          </div>\n        );\n      }\n    });\n\n    return (\n      <form onSubmit={(e) => this.handleSubmit(e)} className='data-row'>\n        {formFields}\n        <input type='submit' value='Save' className='data-cell' />\n      </form>\n    );\n  }\n}\n\nexport { EditRow };\n","import React from 'react';\nimport './dataView.css';\nimport { DataRow } from './dataRow';\nimport { EditRow } from './editRow';\n\nclass DataView extends React.Component {\n  constructor (props) {\n    super(props);\n    const sortMap = new Map();\n    for (const key of Object.keys(this.props.data[0])) {\n      sortMap.set(key, true);\n    }\n    const dataMap = new Map();\n    this.props.data.forEach(dataObj => dataMap.set(dataObj.id, dataObj));\n    this.types = (this.props.types || null);\n    this.state = {\n      editFocus: -1,\n      sortMap: sortMap,\n      dataMap: dataMap\n    };\n    this.handleSort = this.handleSort.bind(this);\n    this.handleDataRow = this.handleDataRow.bind(this);\n    this.handleEdit = this.handleEdit.bind(this);\n  }\n\n  handleSort (key) {\n    const sortMap = new Map(this.state.sortMap);\n    const table = [...this.state.dataMap.values()].sort((a, b) => {\n      if (a[key] === b[key]) return 0;\n      return (sortMap.get(key))\n        ? (a[key] > b[key]) ? 1 : -1\n        : (a[key] < b[key]) ? 1 : -1;\n    });\n    const dataMap = new Map();\n    table.forEach(dataObj => dataMap.set(dataObj.id, dataObj));\n    sortMap.set(key, !sortMap.get(key));\n    this.setState({\n      dataMap: dataMap,\n      sortMap: sortMap\n    });\n  }\n\n  handleDataRow (event, dataObj) {\n    console.log(event.target);\n    console.log(event.target.parentNode);\n    console.log(dataObj);\n    this.setState({ editFocus: dataObj.id });\n  }\n\n  handleEdit (data) {\n    console.log(data);\n    const newDataMap = new Map(this.state.dataMap);\n    newDataMap.set(this.state.editFocus, data);\n    this.setState({ editFocus: -1, dataMap: newDataMap });\n  }\n\n  render () {\n    const { dataMap, sortMap, editFocus } = this.state;\n    const keys = Array.from(sortMap.keys());\n    const titleRow = keys.map(key => (\n      <div\n        className='data-header-cell'\n        key={key}\n        onClick={() => this.handleSort(key)}\n      >\n        {key}\n      </div>\n    ));\n\n    const rows = [];\n    for (const entry of dataMap) {\n      (entry[0] === editFocus)\n        ? rows.push(\n          <EditRow\n            key={entry[0]}\n            dataPoint={dataMap.get(editFocus)}\n            onHandleEdit={this.handleEdit}\n            types={this.types}\n          />\n        )\n        : rows.push(\n          <DataRow\n            key={entry[0]}\n            data={entry[1]}\n            keys={keys}\n            onRowClick={this.handleDataRow}\n          />\n        );\n    }\n\n    return (\n      <>\n        <div className='data-table'>\n          <div className='data-row'>\n            {titleRow}\n          </div>\n          {rows}\n        </div>\n      </>\n    );\n  }\n}\n\nexport { DataView };\n","import React from 'react';\r\n\r\nimport { DataView } from '../components/tables/dataView';\r\n\r\n/** @props: serviceId, token, serverAddress */\r\n\r\nfunction Levels (props) {\r\n  const [levelList, setLevelList] = React.useState(null);\r\n\r\n  React.useEffect(() => {\r\n    async function getLevelList () {\r\n      const levelData = await window.fetch(\r\n        `${props.serverAddress}/services/${props.serviceId}/levels`, {\r\n          mode: 'cors',\r\n          headers: {\r\n            Authorization: `Bearer ${props.token}`\r\n          }\r\n        }\r\n      );\r\n      if (levelData.ok) {\r\n        const levelDataParsed = await levelData.json();\r\n        setLevelList(levelDataParsed);\r\n      }\r\n    }\r\n    getLevelList();\r\n  }, [props]);\r\n\r\n  return (\r\n    <div>\r\n      {\r\n        (levelList)\r\n          ? <DataView data={levelList} />\r\n          : (<div>Loading Level List...</div>)\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { Levels };\r\n","import React from 'react';\r\n\r\nimport { DataView } from '../components/tables/dataView';\r\n\r\nfunction Patrons (props) {\r\n  const [patronList, setPatronList] = React.useState(null);\r\n\r\n  React.useEffect(() => {\r\n    async function getPatronList () {\r\n      const patronData = await window.fetch(\r\n        `${props.serverAddress}/services/${props.serviceId}/patrons`, {\r\n          mode: 'cors',\r\n          headers: {\r\n            Authorization: `Bearer ${props.token}`\r\n          }\r\n        }\r\n      );\r\n      if (patronData.ok) {\r\n        const patronDataParsed = await patronData.json();\r\n        setPatronList(patronDataParsed);\r\n      }\r\n    }\r\n    getPatronList();\r\n  }, [props]);\r\n\r\n  return (\r\n    <div>\r\n      {\r\n        (patronList)\r\n          ? <DataView data={patronList} />\r\n          : (<div>Loading Patron List...</div>)\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { Patrons };\r\n","const flattener = (item) => {\r\n  const flattenedItem = {};\r\n  for (const pos of Object.entries(item)) {\r\n    if (pos[1] && typeof pos[1] === 'object') {\r\n      const nestedItem = flattener(pos[1]);\r\n      Object.assign(flattenedItem, nestedItem);\r\n    } else {\r\n      flattenedItem[pos[0]] = pos[1];\r\n    }\r\n  }\r\n  return flattenedItem;\r\n};\r\n\r\nexport { flattener };\r\n","import React from 'react';\r\n\r\nimport { DataView } from '../components/tables/dataView';\r\nimport { DropDownField, TextField } from '../components/tables/formFieldTypes';\r\nimport { flattener } from '../utils/flattener';\r\n\r\nfunction Todos (props) {\r\n  const [todoList, setTodoList] = React.useState(null);\r\n  // eslint-disable-next-line\r\n  const [todoData, setTodoData] = React.useState(null);\r\n  const todoMap = new Map([\r\n    ['status', DropDownField],\r\n    ['notes', TextField],\r\n    ['reward', TextField]\r\n  ]);\r\n\r\n  React.useEffect(() => {\r\n    async function getTodoList () {\r\n      const recievedData = await window.fetch(\r\n        `${props.serverAddress}/services/${props.serviceId}/complex`, {\r\n          mode: 'cors',\r\n          headers: {\r\n            Authorization: `Bearer ${props.token}`\r\n          }\r\n        }\r\n      );\r\n      if (recievedData.ok) {\r\n        const todoDataParsed = await recievedData.json();\r\n        setTodoData(todoDataParsed);\r\n        const newTodoList = todoDataParsed.map(pos => flattener(pos));\r\n        console.log(newTodoList);\r\n        setTodoList(newTodoList);\r\n      }\r\n    }\r\n    getTodoList();\r\n  }, [props]);\r\n\r\n  return (\r\n    <div>\r\n      {\r\n        (todoList)\r\n          ? (\r\n            <DataView\r\n              data={todoList}\r\n              types={todoMap}\r\n            />\r\n          )\r\n          : (<div>Loading Patron List...</div>)\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { Todos };\r\n","import React from 'react';\r\n\r\nimport { Levels } from './levels';\r\nimport { Patrons } from './patrons';\r\nimport { Todos } from './todos';\r\n\r\nfunction Service (props) {\r\n  const [subServiceComponent, setComponent] =\r\n    React.useState(<p>Service not loaded</p>);\r\n\r\n  React.useLayoutEffect(() => {\r\n    console.log('Service Layout Effect fired');\r\n    switch (props.subService) {\r\n      case (1):\r\n        setComponent(\r\n          <Levels\r\n            serviceId={props.serviceId}\r\n            token={props.token}\r\n            serverAddress={props.serverAddress}\r\n          />\r\n        );\r\n        break;\r\n      case (2):\r\n        setComponent(\r\n          <Patrons\r\n            serviceId={props.serviceId}\r\n            token={props.token}\r\n            serverAddress={props.serverAddress}\r\n          />\r\n        );\r\n        break;\r\n      case (3):\r\n        setComponent(\r\n          <Todos\r\n            serviceId={props.serviceId}\r\n            token={props.token}\r\n            serverAddress={props.serverAddress}\r\n          />\r\n        );\r\n        break;\r\n      default:\r\n        setComponent(\r\n          <div>Service Main</div>\r\n        );\r\n    }\r\n  }, [props]);\r\n\r\n  return (\r\n    <div>\r\n      <span style={{ margin: '15px' }}>service ID {props.serviceId}</span>\r\n      {subServiceComponent}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { Service };\r\n","import React from 'react';\r\n\r\nimport { Menu } from '../components/menu';\r\nimport { UserEdit } from './userEdit';\r\nimport { ServiceList } from './serviceList';\r\nimport { Service } from './service';\r\n\r\n/**\r\n * @TODO: should have\r\n *  - user services list\r\n *  - some link to todo list\r\n *  - way to edit logged user data\r\n *\r\n *  props: token, onStateChange\r\n */\r\nfunction UserPanel (props) {\r\n  const [ServiceId, setServiceId] = React.useState(0);\r\n  const [subService, setSubService] = React.useState(0);\r\n\r\n  return (\r\n    <div className='user-panel'>\r\n      <Menu\r\n        serviceId={ServiceId}\r\n        setServiceId={setServiceId}\r\n        setSubService={setSubService}\r\n        onLogout={props.onStateChange}\r\n      />\r\n      {\r\n        (ServiceId > 0)\r\n          ? (\r\n            <Service\r\n              serviceId={ServiceId}\r\n              subService={subService}\r\n              serverAddress={props.serverAddress}\r\n              token={props.token}\r\n            />\r\n          )\r\n          : (ServiceId === -1)\r\n            ? (\r\n              <UserEdit />\r\n            )\r\n            : (\r\n              <ServiceList\r\n                serverAddress={props.serverAddress}\r\n                token={props.token}\r\n                setServiceId={setServiceId}\r\n              />\r\n            )\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport { UserPanel };\r\n","import React from 'react';\n\nimport './app.css';\n// import DataView from './components/DataView';\nimport { LoginForm } from './components/loginForm';\nimport { SignupForm } from './components/signupForm';\nimport { UserPanel } from './pages/userPanel';\n\nclass App extends React.Component {\n  constructor (props) {\n    super(props);\n    this.serverAddress = props.serverAddress;\n    this.userStates = ['logged out', 'logged in', 'signing up'];\n    this.state = {\n      userState: 0,\n      token: null,\n      failedLogin: false\n    };\n    this.handleUserState = this.handleUserState.bind(this);\n    this.handleLogin = this.handleLogin.bind(this);\n    this.handleSignup = this.handleSignup.bind(this);\n  }\n\n  handlePage (userState) {\n    switch (userState) {\n      case (1):\n        return (\n          <UserPanel\n            serverAddress={this.serverAddress}\n            onStateChange={this.handleUserState}\n            token={this.state.token}\n          />\n        );\n      case (2):\n        return (\n          <SignupForm\n            onStateChange={this.handleUserState}\n            onSignup={this.handleSignup}\n          />\n        );\n      default:\n        return (\n          <LoginForm\n            onStateChange={this.handleUserState}\n            onLogin={this.handleLogin}\n            failedLogin={this.state.failedLogin}\n          />\n        );\n    }\n  }\n\n  // @param userState: index from userStates\n  handleUserState (userState) {\n    if (userState !== this.state.userState) {\n      if (userState === 2) {\n        this.setState({ userState });\n      } else {\n        this.setState({\n          userState,\n          token: null\n        });\n      }\n    }\n  }\n\n  handleLogin (loginData) {\n    window.fetch(`${this.serverAddress}/login`, {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(loginData)\n    })\n      .then(res => {\n        if (res.status < 400) {\n          return res.json();\n        } else {\n          this.setState({\n            userState: 0,\n            failedLogin: true\n          });\n          return 'login failed!';\n        }\n      })\n      .then(data => {\n        if (data.token) {\n          this.setState({\n            token: data.token,\n            userState: 1,\n            failedLogin: false\n          });\n        }\n      })\n      .catch(e => console.log(e));\n  }\n\n  handleSignup (signupData) {\n    window.fetch(`${this.serverAddress}/signup`, {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(signupData)\n    })\n      .then(res => {\n        if (res.status < 400) {\n          return res.json();\n        } else {\n          return 'signup failed';\n        }\n      })\n      .then(data => {\n        console.log(data);\n        this.setState({ userState: 0 });\n        return 'signup successfull';\n      })\n      .catch(e => console.log(e));\n  }\n\n  render () {\n    return (\n      <div id='App'>\n        <div>\n          current state: {this.userStates[this.state.userState]}\n        </div>\n        {this.handlePage(this.state.userState)}\n      </div>\n    );\n  }\n}\n\nexport { App };\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './app';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App\n      serverAddress={\n        (process.env.REACT_APP_SERVER_URI || 'https://patron-helper-test-back.herokuapp.com')\n      }\n    />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}